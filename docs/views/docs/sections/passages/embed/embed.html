
<%
  function embed(name, params){
    if(name === 'save')
      return '<h4>Saves</h4><div>Save 1 <button class="btn btn-default">Overwrite</button></div><div>Save 2 <button class="btn btn-default">Overwrite</button></div><div>Save 3 <button class="btn btn-default">Overwrite</button></div>';
    if(name === 'profile')
      return '<h4>'+params.character.name+'</h4><h5>'+params.character.description+'</h5>';
  }
%>

<p>
  Foil passages have access to a helper function called 'embed'.
</p>
<p>
  This function allows you to render other passages within your current passage.  Let's say, for instance, that you have a passage called 'save' that allows the user to save their game.  You can embed that passage like so:
</p>
<div class="example">
  <div>You open your journal...</div>
  <div><%= embed('save') %></div>
</div>
<p>
  You can also pass parameters into this function and they will be passed to the profile.  In this scenario, you have a passage called 'profile' that requires a parameter called 'character':
</p>
<div class="example">
  <%
    var companion = { 
      name: 'James', 
      description: 'He is a tall, pale man with a fair amount of stubble.'
    }
  %>
  <div>You look at your companion:</div>
  <div><%= embed('profile', { character: companion }) %></div>
</div>